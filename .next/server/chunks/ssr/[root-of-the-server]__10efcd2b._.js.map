{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/shish/Downloads/studio/src/lib/db.ts"],"sourcesContent":["import mongoose from 'mongoose';\r\n\r\nconst MONGODB_URI = process.env.MONGODB_URI || 'mongodb://localhost:27017/cuddlecart';\r\n\r\nif (!MONGODB_URI) {\r\n  throw new Error(\r\n    'Please define the MONGODB_URI environment variable inside .env.local'\r\n  );\r\n}\r\n\r\n/**\r\n * Global is used here to maintain a cached connection across hot reloads\r\n * in development. This prevents connections growing exponentially\r\n * during API Route usage.\r\n */\r\nlet cached = (global as any).mongoose;\r\n\r\nif (!cached) {\r\n  cached = (global as any).mongoose = { conn: null, promise: null };\r\n}\r\n\r\nasync function dbConnect() {\r\n  if (cached.conn) {\r\n    return cached.conn;\r\n  }\r\n\r\n  if (!cached.promise) {\r\n    const opts = {\r\n      bufferCommands: false,\r\n    };\r\n\r\n    cached.promise = mongoose.connect(MONGODB_URI, opts).then((mongoose) => {\r\n      return mongoose;\r\n    });\r\n  }\r\n  try {\r\n    cached.conn = await cached.promise;\r\n  } catch (e) {\r\n    cached.promise = null;\r\n    throw e;\r\n  }\r\n\r\n  return cached.conn;\r\n}\r\n\r\nexport default dbConnect;\r\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,cAAc,QAAQ,GAAG,CAAC,WAAW,IAAI;AAE/C,uCAAkB;;AAIlB;AAEA;;;;CAIC,GACD,IAAI,SAAS,AAAC,OAAe,QAAQ;AAErC,IAAI,CAAC,QAAQ;IACX,SAAS,AAAC,OAAe,QAAQ,GAAG;QAAE,MAAM;QAAM,SAAS;IAAK;AAClE;AAEA,eAAe;IACb,IAAI,OAAO,IAAI,EAAE;QACf,OAAO,OAAO,IAAI;IACpB;IAEA,IAAI,CAAC,OAAO,OAAO,EAAE;QACnB,MAAM,OAAO;YACX,gBAAgB;QAClB;QAEA,OAAO,OAAO,GAAG,yGAAA,CAAA,UAAQ,CAAC,OAAO,CAAC,aAAa,MAAM,IAAI,CAAC,CAAC;YACzD,OAAO;QACT;IACF;IACA,IAAI;QACF,OAAO,IAAI,GAAG,MAAM,OAAO,OAAO;IACpC,EAAE,OAAO,GAAG;QACV,OAAO,OAAO,GAAG;QACjB,MAAM;IACR;IAEA,OAAO,OAAO,IAAI;AACpB;uCAEe","debugId":null}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/shish/Downloads/studio/src/models/User.ts"],"sourcesContent":["import mongoose, { Schema, Document } from 'mongoose';\r\n\r\nexport interface IUser extends Document {\r\n    email: string;\r\n    password?: string;\r\n    name?: string;\r\n    phoneNumber?: string;\r\n    addresses?: Array<{\r\n        id: string;\r\n        type: string;\r\n        address: string;\r\n        isDefault: boolean;\r\n    }>;\r\n    role: 'user' | 'admin';\r\n    createdAt: Date;\r\n    updatedAt: Date;\r\n}\r\n\r\nconst UserSchema: Schema = new Schema({\r\n    email: { type: String, required: true, unique: true },\r\n    password: { type: String, required: false }, // Optional for OAuth users in future\r\n    name: { type: String },\r\n    phoneNumber: { type: String },\r\n    addresses: [{\r\n        id: { type: String },\r\n        type: { type: String },\r\n        address: { type: String },\r\n        isDefault: { type: Boolean, default: false }\r\n    }],\r\n    role: { type: String, enum: ['user', 'admin'], default: 'user' },\r\n}, {\r\n    timestamps: true,\r\n});\r\n\r\nexport default mongoose.models.User || mongoose.model<IUser>('User', UserSchema);\r\n"],"names":[],"mappings":";;;AAAA;;AAkBA,MAAM,aAAqB,IAAI,yGAAA,CAAA,SAAM,CAAC;IAClC,OAAO;QAAE,MAAM;QAAQ,UAAU;QAAM,QAAQ;IAAK;IACpD,UAAU;QAAE,MAAM;QAAQ,UAAU;IAAM;IAC1C,MAAM;QAAE,MAAM;IAAO;IACrB,aAAa;QAAE,MAAM;IAAO;IAC5B,WAAW;QAAC;YACR,IAAI;gBAAE,MAAM;YAAO;YACnB,MAAM;gBAAE,MAAM;YAAO;YACrB,SAAS;gBAAE,MAAM;YAAO;YACxB,WAAW;gBAAE,MAAM;gBAAS,SAAS;YAAM;QAC/C;KAAE;IACF,MAAM;QAAE,MAAM;QAAQ,MAAM;YAAC;YAAQ;SAAQ;QAAE,SAAS;IAAO;AACnE,GAAG;IACC,YAAY;AAChB;uCAEe,yGAAA,CAAA,UAAQ,CAAC,MAAM,CAAC,IAAI,IAAI,yGAAA,CAAA,UAAQ,CAAC,KAAK,CAAQ,QAAQ","debugId":null}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/shish/Downloads/studio/src/actions/auth-actions.ts"],"sourcesContent":["'use server'\r\n\r\nimport dbConnect from \"@/lib/db\"\r\nimport User from \"@/models/User\"\r\nimport bcrypt from \"bcryptjs\"\r\n\r\nexport async function registerUser(formData: FormData) {\r\n    await dbConnect();\r\n\r\n    const email = formData.get('email') as string;\r\n    const password = formData.get('password') as string;\r\n    const name = formData.get('name') as string;\r\n\r\n    if (!email || !password) {\r\n        return { success: false, message: \"Email and password are required\" };\r\n    }\r\n\r\n    // Check if user exists\r\n    const existingUser = await User.findOne({ email });\r\n    if (existingUser) {\r\n        return { success: false, message: \"User already exists\" };\r\n    }\r\n\r\n    // Hash password\r\n    const hashedPassword = await bcrypt.hash(password, 10);\r\n\r\n    // Create user\r\n    await User.create({\r\n        email,\r\n        password: hashedPassword,\r\n        name,\r\n        role: 'user'\r\n    });\r\n\r\n    return { success: true, message: \"User created successfully\" };\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;;;;;AAEO,eAAe,aAAa,QAAkB;IACjD,MAAM,CAAA,GAAA,gHAAA,CAAA,UAAS,AAAD;IAEd,MAAM,QAAQ,SAAS,GAAG,CAAC;IAC3B,MAAM,WAAW,SAAS,GAAG,CAAC;IAC9B,MAAM,OAAO,SAAS,GAAG,CAAC;IAE1B,IAAI,CAAC,SAAS,CAAC,UAAU;QACrB,OAAO;YAAE,SAAS;YAAO,SAAS;QAAkC;IACxE;IAEA,uBAAuB;IACvB,MAAM,eAAe,MAAM,qHAAA,CAAA,UAAI,CAAC,OAAO,CAAC;QAAE;IAAM;IAChD,IAAI,cAAc;QACd,OAAO;YAAE,SAAS;YAAO,SAAS;QAAsB;IAC5D;IAEA,gBAAgB;IAChB,MAAM,iBAAiB,MAAM,iIAAA,CAAA,UAAM,CAAC,IAAI,CAAC,UAAU;IAEnD,cAAc;IACd,MAAM,qHAAA,CAAA,UAAI,CAAC,MAAM,CAAC;QACd;QACA,UAAU;QACV;QACA,MAAM;IACV;IAEA,OAAO;QAAE,SAAS;QAAM,SAAS;IAA4B;AACjE;;;IA7BsB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 186, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/shish/Downloads/studio/.next-internal/server/app/_not-found/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {registerUser as '4026971e7336072e727afe17f96b377ab5ab463676'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}}]
}