{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/manav/studio/src/app/account/addresses/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardHeader, CardTitle, CardContent, CardFooter } from \"@/components/ui/card\";\r\nimport { MapPin, Plus, Edit2, Trash2, Loader2 } from \"lucide-react\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport { useToast } from \"@/hooks/use-toast\";\r\n\r\ninterface Address {\r\n    id: string;\r\n    type: string;\r\n    address: string;\r\n    isDefault: boolean;\r\n}\r\n\r\nexport default function AddressesPage() {\r\n    const { toast } = useToast();\r\n    const [addresses, setAddresses] = useState<Address[]>([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [isDeleting, setIsDeleting] = useState<string | null>(null);\r\n\r\n    useEffect(() => {\r\n        fetchAddresses();\r\n    }, []);\r\n\r\n    const fetchAddresses = async () => {\r\n        try {\r\n            const res = await fetch(\"/api/user/addresses\");\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setAddresses(data);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Fetch Addresses Error:\", error);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (id: string) => {\r\n        setIsDeleting(id);\r\n        try {\r\n            const res = await fetch(\"/api/user/addresses\", {\r\n                method: \"DELETE\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({ id })\r\n            });\r\n\r\n            if (res.ok) {\r\n                toast({ title: \"Success\", description: \"Address deleted.\" });\r\n                setAddresses(addresses.filter((addr: any) => addr.id !== id));\r\n            } else {\r\n                toast({ title: \"Error\", description: \"Failed to delete address.\", variant: \"destructive\" });\r\n            }\r\n        } catch (error) {\r\n            toast({ title: \"Error\", description: \"Something went wrong.\", variant: \"destructive\" });\r\n        } finally {\r\n            setIsDeleting(null);\r\n        }\r\n    };\r\n\r\n    const handleAddMock = async () => {\r\n        try {\r\n            const res = await fetch(\"/api/user/addresses\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({\r\n                    type: \"Home\",\r\n                    address: \"123 Cuddle Lane, Soft City, Plushland 56789\",\r\n                    isDefault: addresses.length === 0\r\n                })\r\n            });\r\n\r\n            if (res.ok) {\r\n                const newAddr = await res.json();\r\n                setAddresses([...addresses, newAddr]);\r\n                toast({ title: \"Success\", description: \"Address added.\" });\r\n            }\r\n        } catch (error) {\r\n            toast({ title: \"Error\", description: \"Failed to add address.\", variant: \"destructive\" });\r\n        }\r\n    };\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"flex items-center justify-center p-12\">\r\n                <Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                    <h2 className=\"text-2xl font-bold\">My Addresses</h2>\r\n                    <p className=\"text-muted-foreground\">Manage your shipping and billing addresses.</p>\r\n                </div>\r\n                <Button onClick={handleAddMock} size=\"sm\" className=\"hidden sm:flex items-center gap-2\">\r\n                    <Plus className=\"h-4 w-4\" /> Add Address\r\n                </Button>\r\n            </div>\r\n            <Separator />\r\n\r\n            <div className=\"grid gap-4\">\r\n                {addresses.length > 0 ? (\r\n                    addresses.map((address: any) => (\r\n                        <Card key={address.id} className=\"relative overflow-hidden group\">\r\n                            <CardHeader className=\"pb-3\">\r\n                                <CardTitle className=\"text-lg flex items-center gap-2\">\r\n                                    <MapPin className=\"h-4 w-4 text-primary\" />\r\n                                    {address.type}\r\n                                    {address.isDefault && (\r\n                                        <span className=\"text-[10px] bg-primary/10 text-primary px-2 py-0.5 rounded-full border border-primary/20 uppercase font-bold tracking-wider\">\r\n                                            Default\r\n                                        </span>\r\n                                    )}\r\n                                </CardTitle>\r\n                            </CardHeader>\r\n                            <CardContent>\r\n                                <p className=\"text-sm text-muted-foreground leading-relaxed\">\r\n                                    {address.address}\r\n                                </p>\r\n                            </CardContent>\r\n                            <CardFooter className=\"flex gap-2 pt-2\">\r\n                                <Button variant=\"ghost\" size=\"sm\" className=\"h-8 px-2 flex items-center gap-1.5 hover:text-primary\">\r\n                                    <Edit2 className=\"h-3.5 w-3.5\" /> Edit\r\n                                </Button>\r\n                                <Button\r\n                                    variant=\"ghost\"\r\n                                    size=\"sm\"\r\n                                    onClick={() => handleDelete(address.id)}\r\n                                    disabled={isDeleting === address.id}\r\n                                    className=\"h-8 px-2 flex items-center gap-1.5 hover:text-destructive\"\r\n                                >\r\n                                    {isDeleting === address.id ? <Loader2 className=\"h-3.5 w-3.5 animate-spin\" /> : <Trash2 className=\"h-3.5 w-3.5\" />}\r\n                                    Remove\r\n                                </Button>\r\n                            </CardFooter>\r\n                        </Card>\r\n                    ))\r\n                ) : (\r\n                    <div className=\"text-center py-12 flex flex-col items-center gap-4\">\r\n                        <MapPin className=\"h-12 w-12 text-muted-foreground/30\" />\r\n                        <p className=\"text-muted-foreground\">You have 0 saved addresses.</p>\r\n                        <Button onClick={handleAddMock} variant=\"outline\" className=\"border-dashed\">\r\n                            Add Your First Address\r\n                        </Button>\r\n                    </div>\r\n                )}\r\n                <Button onClick={handleAddMock} variant=\"outline\" className=\"sm:hidden border-dashed py-6 flex flex-col gap-2\">\r\n                    <Plus className=\"h-5 w-5\" /> Add New Address\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 388, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/pen.js","sources":["file:///C:/Users/manav/studio/node_modules/lucide-react/src/icons/pen.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z',\n      key: '1a8usu',\n    },\n  ],\n];\n\n/**\n * @component @name Pen\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEuMTc0IDYuODEyYTEgMSAwIDAgMC0zLjk4Ni0zLjk4N0wzLjg0MiAxNi4xNzRhMiAyIDAgMCAwLS41LjgzbC0xLjMyMSA0LjM1MmEuNS41IDAgMCAwIC42MjMuNjIybDQuMzUzLTEuMzJhMiAyIDAgMCAwIC44My0uNDk3eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/pen\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Pen = createLucideIcon('Pen', __iconNode);\n\nexport default Pen;\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAuB,CAAA,CAAA,CAAA,CAAA;IAClC,CAAA;QACE,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QACA,CAAA;YACE,CAAG,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YACH,CAAA,CAAA,CAAK,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QACP,CAAA;KACF;CACF,CAAA;AAaM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,GAAA,CAAM,CAAA,KAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,iKAAiB,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAO,CAAU,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA","debugId":null}}]
}